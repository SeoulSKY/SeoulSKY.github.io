import{r as c,R as d}from"./react-ba0062d6.js";import{p}from"./prop-types-4d501b15.js";import{r as Q}from"./react-dom-49e8de85.js";import{T as V,a as X}from"./react-transition-group-6a46ab3e.js";function S(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T(){return T=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},T.apply(this,arguments)}function k(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function a(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k(Object(t),!0).forEach(function(r){S(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Y(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function D(n,e){if(n==null)return{};var t=Y(n,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Z(n,e){return ee(n)||te(n,e)||ne()}function ee(n){if(Array.isArray(n))return n}function te(n,e){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]"){var t=[],r=!0,o=!1,i=void 0;try{for(var m=n[Symbol.iterator](),O;!(r=(O=m.next()).done)&&(t.push(O.value),!(e&&t.length===e));r=!0);}catch(j){o=!0,i=j}finally{try{!r&&m.return!=null&&m.return()}finally{if(o)throw i}}return t}}function ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var B=c.createContext(),l={TOP_LEFT:"top left",TOP_CENTER:"top center",TOP_RIGHT:"top right",MIDDLE_LEFT:"middle left",MIDDLE:"middle",MIDDLE_RIGHT:"middle right",BOTTOM_LEFT:"bottom left",BOTTOM_CENTER:"bottom center",BOTTOM_RIGHT:"bottom right"},h={INFO:"info",SUCCESS:"success",ERROR:"error"},g={FADE:"fade",SCALE:"scale"},re=function(e){var t={left:0,position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",pointerEvents:"none"};switch(e){case l.TOP_LEFT:return a(a({},t),{},{top:0,alignItems:"flex-start"});case l.TOP_CENTER:return a(a({},t),{},{top:0});case l.TOP_RIGHT:return a(a({},t),{},{top:0,alignItems:"flex-end"});case l.MIDDLE_LEFT:return a(a({},t),{},{top:"50%",alignItems:"flex-start"});case l.MIDDLE:return a(a({},t),{},{top:"50%"});case l.MIDDLE_RIGHT:return a(a({},t),{},{top:"50%",alignItems:"flex-end"});case l.BOTTOM_LEFT:return a(a({},t),{},{bottom:0,alignItems:"flex-start"});case l.BOTTOM_CENTER:return a(a({},t),{},{bottom:0});case l.BOTTOM_RIGHT:return a(a({},t),{},{bottom:0,alignItems:"flex-end"});default:return t}},oe=function(e){var t=e.children,r=e.options,o=r.position,i=r.containerStyle,m=D(e,["children","options"]),O=c.useMemo(function(){return re(o)},[o]);return t.length>0&&d.createElement("div",T({style:a(a({},O),i)},m),t)},P,R,_=250,ae=(P={},S(P,g.FADE,{transition:"opacity ".concat(_,"ms ease"),opacity:0}),S(P,g.SCALE,{transform:"scale(1)",transition:"all ".concat(_,"ms ease-in-out")}),P),ie=(R={},S(R,g.FADE,{entering:{opacity:0},entered:{opacity:1}}),S(R,g.SCALE,{entering:{transform:"scale(0)"},entered:{transform:"scale(1)"},exiting:{transform:"scale(0)"},exited:{transform:"scale(1)"}}),R),se=function(e){var t=e.children,r=e.type,o=D(e,["children","type"]),i=c.useRef(null);return d.createElement(X,T({nodeRef:i},o,{timeout:_}),function(m){return d.createElement("div",{ref:i,style:a(a({},ae[r]),ie[r][m])},t)})},ue=function(e,t){return e.reduce(function(r,o){var i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{})},N=function(e){var t=e.children,r=e.offset,o=e.position,i=e.timeout,m=e.type,O=e.transition,j=e.containerStyle,G=e.template,H=e.context,W=D(e,["children","offset","position","timeout","type","transition","containerStyle","template","context"]),v=c.useRef(null),I=c.useRef(null),x=c.useRef([]),U=c.useState([]),w=Z(U,2),A=w[0],L=w[1];c.useEffect(function(){v.current=document.createElement("div"),v.current.id="__react-alert__",document.body.appendChild(v.current);var u=x.current;return function(){u.forEach(clearTimeout),v.current&&document.body.removeChild(v.current)}},[]);var b=c.useCallback(function(u){L(function(s){var E=s.length,C=s.filter(function(f){return f.id!==u.id});return E>C.length&&u.options.onClose&&u.options.onClose(),C})},[]),q=c.useCallback(function(){I.current.alerts.forEach(b)},[b]),y=c.useCallback(function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=Math.random().toString(36).substr(2,9),C=a({position:s.position||o,timeout:i,type:m},s),f={id:E,message:u,options:C};if(f.close=function(){return b(f)},f.options.timeout){var F=setTimeout(function(){b(f),x.current.splice(x.current.indexOf(F),1)},f.options.timeout);x.current.push(F)}return L(function(J){return J.concat(f)}),f.options.onOpen&&f.options.onOpen(),f},[o,b,i,m]),z=c.useCallback(function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.type=h.SUCCESS,y(u,s)},[y]),K=c.useCallback(function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.type=h.ERROR,y(u,s)},[y]),$=c.useCallback(function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.type=h.INFO,y(u,s)},[y]);I.current={alerts:A,show:y,remove:b,removeAll:q,success:z,error:K,info:$};var M=ue(A,function(u){return u.options.position});return d.createElement(H.Provider,{value:I},t,v.current&&Q.createPortal(d.createElement(c.Fragment,null,Object.keys(l).map(function(u){var s=l[u];return d.createElement(V,T({appear:!0,key:s,options:{position:s,containerStyle:j},component:oe},W),M[s]?M[s].map(function(E){return d.createElement(se,{type:O,key:E.id},d.createElement(G,T({style:{margin:r,pointerEvents:"all"}},E)))}):null)})),v.current))};N.propTypes={offset:p.string,position:p.oneOf(Object.keys(l).map(function(n){return l[n]})),timeout:p.number,type:p.oneOf(Object.keys(h).map(function(n){return h[n]})),transition:p.oneOf(Object.keys(g).map(function(n){return g[n]})),containerStyle:p.object,template:p.oneOfType([p.element,p.func,p.elementType]).isRequired,context:p.shape({Provider:p.object,Consumer:p.object})};N.defaultProps={offset:"10px",position:l.TOP_CENTER,timeout:0,type:h.INFO,transition:g.FADE,containerStyle:{zIndex:100},context:B};var me=function(e){var t=c.useContext(e||B),r=c.useMemo(function(){return t.current},[t]);return r};export{N as P,l as p,g as t,me as u};
