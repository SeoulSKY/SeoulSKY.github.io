/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y.apply(this,arguments)}var h;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(h||(h={}));const S="popstate";function j(t){t===void 0&&(t={});function e(r,i){let{pathname:p,search:l,hash:s}=r.location;return x("",{pathname:p,search:l,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:E(i)}return R(e,n,null,t)}function B(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C(){return Math.random().toString(36).substr(2,8)}function m(t,e){return{usr:t.state,key:t.key,idx:e}}function x(t,e,n,r){return n===void 0&&(n=null),y({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?I(e):e,{state:n,key:e&&e.key||r||C()})}function E(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function I(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function R(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:p=!1}=r,l=i.history,s=h.Pop,c=null,u=g();u==null&&(u=0,l.replaceState(y({},l.state,{idx:u}),""));function g(){return(l.state||{idx:null}).idx}function P(){s=h.Pop;let a=g(),o=a==null?null:a-u;u=a,c&&c({action:s,location:f.location,delta:o})}function H(a,o){s=h.Push;let d=x(f.location,a,o);u=g()+1;let v=m(d,u),w=f.createHref(d);try{l.pushState(v,"",w)}catch{i.location.assign(w)}p&&c&&c({action:s,location:f.location,delta:1})}function b(a,o){s=h.Replace;let d=x(f.location,a,o);u=g();let v=m(d,u),w=f.createHref(d);l.replaceState(v,"",w),p&&c&&c({action:s,location:f.location,delta:0})}function L(a){let o=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof a=="string"?a:E(a);return B(o,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,o)}let f={get action(){return s},get location(){return t(i,l)},listen(a){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(S,P),c=a,()=>{i.removeEventListener(S,P),c=null}},createHref(a){return e(i,a)},createURL:L,encodeLocation(a){let o=L(a);return{pathname:o.pathname,search:o.search,hash:o.hash}},push:H,replace:b,go(a){return l.go(a)}};return f}var A;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A||(A={}));function k(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const O=["post","put","patch","delete"];new Set(O);const U=["get",...O];new Set(U);export{h as A,j as c,B as i,I as p,k as s};
